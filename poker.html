<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Texas Hold'em Poker</title>
<style>
    body { font-family: Arial; background:#0a2f0a; color:white; text-align:center; }
    .cards { margin: 10px; }
    .card {
        display:inline-block; padding:10px 14px; margin:5px;
        background:white; color:black; border-radius:4px; font-weight:bold;
        min-width:28px; font-size:18px;
    }
    button {
        padding:10px 20px; font-size:18px; background:#ffcc00;
        border:none; border-radius:5px; cursor:pointer; margin:10px;
    }
    button:hover { background:#ffdd33; }
</style>
</head>
<body>

<h1>Texas Hold‚Äôem Poker</h1>

<h2>Your Cards</h2>
<div id="player-cards" class="cards"></div>

<h2>Dealer Cards</h2>
<div id="dealer-cards" class="cards"></div>

<h2>Community Cards</h2>
<div id="community-cards" class="cards"></div>

<h2 id="result"></h2>

<button id="deal-btn" onclick="dealHands()">Deal Hands</button>
<button id="flop-btn" onclick="showFlop()" style="display:none;">Reveal Flop</button>
<button id="turn-btn" onclick="showTurn()" style="display:none;">Reveal Turn</button>
<button id="river-btn" onclick="showRiver()" style="display:none;">Reveal River</button>
<button id="showdown-btn" onclick="showDown()" style="display:none;">Showdown</button>

<script>
// ----------------- Deck Functions -----------------
function buildDeck() {
    const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
    const values = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
    let deck = [];
    for (let s of suits) for (let v of values) deck.push({ value:v, suit:s });
    return deck;
}

function shuffle(deck) {
    for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i+1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
    }
}

// ----------------- Hand Evaluation -----------------
function rankValue(v) {
    return ['2','3','4','5','6','7','8','9','10','J','Q','K','A'].indexOf(v);
}

function evaluateHand(cards) {
    cards = cards.slice().sort((a,b) => rankValue(a.value) - rankValue(b.value));
    const counts = {}, suits = {};

    for (let c of cards) {
        counts[c.value] = (counts[c.value] || 0) + 1;
        suits[c.suit] = (suits[c.suit] || 0) + 1;
    }

    const isFlush = Object.values(suits).some(v => v >= 5);

    let ordered = [...new Set(cards.map(c => rankValue(c.value)))];
    let isStraight = false;
    for (let i = 0; i <= ordered.length - 5; i++)
        if (ordered[i+4] - ordered[i] === 4) isStraight = true;

    const pairs = Object.values(counts).filter(v => v === 2).length;
    const threes = Object.values(counts).filter(v => v === 3).length;
    const fours = Object.values(counts).filter(v => v === 4).length;

    if (isStraight && isFlush) return 8;
    if (fours) return 7;
    if (threes && pairs) return 6;
    if (isFlush) return 5;
    if (isStraight) return 4;
    if (threes) return 3;
    if (pairs >= 2) return 2;
    if (pairs === 1) return 1;
    return 0;
}

const HAND_NAMES = [
    "High Card","One Pair","Two Pair","Three of a Kind",
    "Straight","Flush","Full House","Four of a Kind","Straight Flush"
];

// ----------------- Game State -----------------
let deck, player, dealer, community;

// ----------------- Display Cards -----------------
function showCards(id, cards) {
    const container = document.getElementById(id);
    container.innerHTML = "";
    cards.forEach(c => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerText = c.value + c.suit;
        container.appendChild(div);
    });
}

// ----------------- Game Flow -----------------
function dealHands() {
    document.getElementById("result").innerText = "";
    deck = buildDeck();
    shuffle(deck);

    player = [deck.pop(), deck.pop()];
    dealer = [deck.pop(), deck.pop()];
    community = [];

    showCards("player-cards", player);
    showCards("dealer-cards", dealer);
    showCards("community-cards", []);

    document.getElementById("flop-btn").style.display = "inline-block";
    document.getElementById("turn-btn").style.display = "none";
    document.getElementById("river-btn").style.display = "none";
    document.getElementById("showdown-btn").style.display = "none";
}

function showFlop() {
    community.push(deck.pop(), deck.pop(), deck.pop());
    showCards("community-cards", community);

    document.getElementById("flop-btn").style.display = "none";
    document.getElementById("turn-btn").style.display = "inline-block";
}

function showTurn() {
    community.push(deck.pop());
    showCards("community-cards", community);

    document.getElementById("turn-btn").style.display = "none";
    document.getElementById("river-btn").style.display = "inline-block";
}

function showRiver() {
    community.push(deck.pop());
    showCards("community-cards", community);

    document.getElementById("river-btn").style.display = "none";
    document.getElementById("showdown-btn").style.display = "inline-block";
}

function showDown() {
    const playerScore = evaluateHand(player.concat(community));
    const dealerScore = evaluateHand(dealer.concat(community));

    let result = "";
    if (playerScore > dealerScore) result = "üéâ You Win with " + HAND_NAMES[playerScore];
    else if (dealerScore > playerScore) result = "üíÄ Dealer Wins with " + HAND_NAMES[dealerScore];
    else result = "ü§ù It's a Tie (" + HAND_NAMES[playerScore] + ")";

    document.getElementById("result").innerText = result;

    document.getElementById("showdown-btn").style.display = "none";
}
</script>

</body>
</html>
